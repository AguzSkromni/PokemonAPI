<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ESP">
<head th:insert="~{fragments/bootstrap-header :: bootstrapHeader}">
    <title>Editar Entrenador</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

<!-- Incluir la barra de navegación -->
<th:block th:replace="~{fragments/nav :: navbar}" th:with="page='listar-entrenadores'"></th:block>

<div class="container-xl">
    <div class="row">
        <div class="col-sm-12 text-center">
            <h1>Editar Entrenador</h1>
        </div>

        <div class="col-sm-12">
            <form th:action="@{/editar-entrenador}" th:object="${entrenador}" method="post">
                <!-- Campo oculto para ID del Entrenador -->
                <input type="hidden" th:field="*{idEntrenador}" />

                <!-- Datos del Entrenador -->
                <div class="form-group">
                    <label for="nombreEntrenador">Nombre:</label>
                    <input type="text" id="nombreEntrenador" th:field="*{nombreEntrenador}" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="edadEntrenador">Edad:</label>
                    <input type="number" id="edadEntrenador" th:field="*{edadEntrenador}" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="ciudadEntrenador">Ciudad:</label>
                    <input type="text" id="ciudadEntrenador" th:field="*{ciudadEntrenador}" class="form-control" />
                </div>

                <!-- Pokémones -->
                <h3>Pokémones</h3>
                <div id="pokemones-container">
                    <div th:each="pokemon, iterStat : ${entrenador.pokemones}">
                        <div class="form-group">
                            <label>Nombre del Pokémon:</label>
                            <input type="text" th:field="*{pokemones[__${iterStat.index}__].nombrePokemon}" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label>Tipo del Pokémon:</label>
                            <input type="text" th:field="*{pokemones[__${iterStat.index}__].tipoPokemon}" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label>Nivel del Pokémon:</label>
                            <input type="number" th:field="*{pokemones[__${iterStat.index}__].nivelPokemon}" class="form-control" />
                        </div>
                        <input type="hidden" th:field="*{pokemones[__${iterStat.index}__].idPokemon}" />
                        <hr/>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Actualizar</button>
                <a href="/listar-entrenadores" class="btn btn-secondary">Cancelar</a>
            </form>

        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
